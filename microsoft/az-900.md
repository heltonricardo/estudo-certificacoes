# MICROSOFT AZ-900

<img src="../assets/microsoft-certified-fundamentals-badge.svg" alt="MICROSOFT AZ-900" width="200"/>

## MODELOS DE CLOUD

### IaaS (Infraestrutura como serviço)

- Alugar servidores físicos;
- Para quem não quer ter o serviço de cloud público;
- Você tem que gerenciar os próprios servidores;
- Você aplica as próprias licenças;
- Você instala os softwares necessários.

### PaaS (Plataforma como serviço)

- Quando se utiliza uma aplicação oferecida pela própria Azure, como um CND, por exemplo;
- Você paga pela utilização e não se preocupa com licença de software.

### SaaS (Software como serviço)

- Por exemplo o Office 365;
- Não precisa se preocupar com atualizações ou manutenções.

## TIPOS DE CLOUD

### Private ($$$)

- Quando você monta a própria estrutura cloud;
- Monta sua estrutura cloud em um espaço de datacenter;
- Você precisa se preocupar com licenças, hardwares, manutenções
- Muito utilizado por quem não gosta dos outros dois tipos. Exemplo: bancos e governos, que não querem que um terceiro faça manutenção ou tenha acesso físico.

### Public ($): Mais usado pela facilidade e preço

- É como a AWS, Azure ou Google Cloud. Essas empresas tomam conta de toda a parte física e você somente aluga a parte virtual (VMs, DBs etc).

### Hybrid ($$)

- Traz recursos de ambos os tipos já citados, permitindo usar VMs e máquinas físicas para aplicações específicas, por exemplo.

## ESTRUTURA DA MICROSOFT AZURE

### Availability Zone (Zona de disponibilidade)

- São os datacenters propriamente ditos: os prédios, com ar condicionado, sistemas de gestão de energia elétrica;
- Onde ficam instalados os racks com memórias, processadores, discos etc.

### Region (Região)

- São localizações geográficas que possuem 3 ou mais Zonas de Disponibilidade. Todas as zonas dentro de uma Região são espelhadas, ou seja, caso ocorra algum desastre e umas das Zonas fique indisponível, as outras servirão os clients sem mesmo que eles notem (uma VM não será reiniciada, por exemplo). Dentro de uma região, todas as Zonas de disponibilidade funcionam como um só datacenter.

> Nem todas as regiões possuem todos os serviços oferecidos pela Azure, e os valores podem alterar de acordo com a localização.

## GRUPOS DE RECURSOS

Maneira usada para separar seus recursos. Por exemplo: você pode criar um grupo para cada setor da empresa ou filial, ou para cada estado, ou país. É bem flexível e permite gerir melhor os seus recursos, podendo visualizar, por exemplo, o quanto cada grupo custa para manter.

<hr />

## MÁQUINA VIRTUAL

1. Primeiro, criamos um grupo de recursos:

   - Procure na tela inicial ou digite `Grupos de Recursos`
   - Clique em `Criar`
   - Em `Grupo de recursos`, insira um nome, por exemplo `Servidores`
   - Escolha uma região
   - Clique em `Revisar + criar`
   - Clique em `Criar`

2. Agora sim, criamos a máquina virtual

   - Procure na tela inicial ou digite `Máquinas Virtuais`
   - Clique em `Criar`
   - Clique em `Máquina virtual`
   - Guia `Básico`:
     - Escolha o `Grupo de Recursos` criado anteriormente
     - Insira um nome para máquina virtual, exemplo: `Servidor01`
     - Escolha uma região
     - Para o exemplo, deixaremos sem redundância para `Opções de disponibilidade`
     - Agora, para a `Imagem`, utilizaremos um Windows, exemplo: `Windows Server 2019 Datacenter - Gen2`
     - Em `Tamanho`, escolheremos a mais barata por mês (esse valor é cobrado se a máquina ficar ligada durante todos os dias do mês. Para fins de teste, ligaremos e desligaremos quando necessário, gerando um custo bem baixo para a máquina - o que será descontado do crédito inicial grátis que a própria Microsoft oferece ao criarmos a conta)
     - Insira um nome de usuário e senha para criar uma conta dentro do SO
     - Deixe `RDP (3389)` em `Selecione as portas de entradas`
   - Guia `Discos`:
     - Deixaremos as opções padrão
   - Guia `Rede`:
     - Deixaremos as opções padrão
   - Guia `Gerenciamento`:
     - Deixaremos as opções padrão
   - Guia `Avançado`:
     - Deixaremos as opções padrão
   - Guia `Marcas` (Tags):
     - Insira um nome, por exemplo: `Server`
     - Insira um valor, por exemplo: `Servidor01`
   - Clique em `Revisar + criar`
   - Clique em `Criar`

3. Vamos agora acessar a máquina criada

   - Ao finalizar a criação, clique em `Ir para o recurso`
   - Procure na tela inicial ou digite `Máquinas Virtuais`
   - Clique no nome do servidor criado anteriormente
   - Clique em `Conectar`
   - Clique em `RDP`
   - Baixe o arquivo RDP
   - Execute o arquivo baixado
   - Clique em `Conectar`
   - Insira seu usuário e senha criados anteriormente
   - Para encerrar a sessão, basta fechar a guia do RDP (note, em seu gerenciador da Azure, que a máquina continua ligada = cobrando)

4. Excluindo a VM

   - Na mesma tela de conexão, clique em `Excluir`
   - Selecione todos os recursos associados à máquina, como discos, interfaces e outros (eles continuarão consumindo créditos se não excluídos)
   - Aceite os termo
   - Clique em `Excluir`

<hr />

## CLI - COMMAND-LINE INTERFACE

O Command-Line Interface - Interface de Linha de Comando - serve para executarmos comandos da Azure a partir da sua máquina local, não sendo necessário acessar o painel visual da Microsoft Azure. É necessário configurar seu terminal. Existe também o Cloud Shell, um terminal disponível no próprio painel da Azure, que pode ser usado diretamente do navegador de internet.

<hr />

## MARKETPLACE

Loja com soluções, pagas e gratuitas, que já foram criadas por terceiros ou pela Microsoft. Por exemplo: é possível criar uma VM que já venha com aplicações instaladas e configuradas.

<hr />

## VM SCALE SET - CONJUNTOS DE ESCALAS DE VMs

É um artifício que permite que criemos agrupamentos de VMs para escalar a performance (aumentando ou diminuindo recursos) de acordo com algum parâmetro. Por exemplo: quando montamos um site em uma VM esperando poucos acessos, costumamos economizar no hardware, mas se essa máquina começa a receber muitos acessos simultâneos, provavelmente travará. Por isso, usamos o Scale Set. Definindo que: ao chegar em 50% de processamento na CPU, deve ser criada uma cópia da VM que também começará a receber acessos (balanceados pela própria Azure). Você pode definir a quantidade mínima e máxima de VMs. Quando a demanda não é mais necessária, o Scale Set trata de excluir as máquinas extras. Ele também ajuda de outra maneira: se definirmos que sempre serão no mínimo duas máquinas e uma delas falhar, ele mesmo será responsável por criar outra e excluir a defeituosa.

<hr />

## APP SERVICE

Recurso que permite que enviemos o código fonte de um sistema, e a própria Azure fica responsável por criar e configurar a estrutura para executar a aplicação. Aceita várias linguagens, como: Java, Python, .Net e PHP.

<hr />

## ACI - AZURE CONTAINER INSTANCE

Sistema da Azure que permite mandarmos a imagem da aplicação para os servidores da Microsoft.

<hr />

## AKS - AZURE KUBERNETE SERVICE

Sistema da Azure para gerenciamento de orquestradores de containers.

<hr />

## AVD - AZURE VIRTUAL DESKTOP

A área de trabalho virtual da Azure é um recurso que permite criar máquinas que servem como desktops e podem ser acessadas por aplicativos ou pelo navegador de internet.

<hr />

## APLICATIVO DE FUNÇÕES

Recurso que permite criarmos funções de aplicativos para serem executadas somente quando necessárias. Isso torna possível diminuir o hardware para executar uma aplicação inteira e custeando partes dessa aplicação somente enquanto são executadas. A vantagem é que não é preciso duplicar a aplicação toda quando existe grande demanda, o autoscale gerencia tudo e criará mais instâncias de cada função sob demanda.

<hr />

## VNET

As redes virtuais são artifícios que possibilitam o isolamento de máquinas dentro de diferentes redes. Como criar uma VNET dentro da Azure:

- Guia `Básico`
  1. Acesse o recurso `Redes virtuais`
  2. Clique em `Criar`
  3. Escolha ou crie um grupo de recursos. Ex: Dev
  4. Insira um nome para a VNET. Ex: Dev
- Guia `Endereços IP`
  1. Usaremos a rede sugerida: `10.1.0.0/16`
- Guia `Segurança`
  1. Habilite o BastionHost - recurso que permite que acessemos as máquinas dentro da VNET de forma remota
  2. Insira um nome. Ex: Dev-Bastion
  3. Insira uma subrede para o bastion. Ex: `10.1.2.0/24`
  4. Em `Endereço IP público` selecione um ou crie clicando em `Crie um` e inserindo um nome. Ex: Dev-Public
- Clique em `Revisar + criar`
- Clique em `Criar` e aguarde a finalização

Agora basta seguir o guia de como criar uma máquina virtual (alguns tópicos acima) e na guia `Redes` selecionar, para `Rede Virtual`, a rede criado no passo anterior. Para o exemplo, criaremos duas máquinas dentro dessa rede VNET.
